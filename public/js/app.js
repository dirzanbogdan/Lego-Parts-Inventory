document.addEventListener('DOMContentLoaded',function(){var input=document.querySelector('form[action="/search"] input[name="q"]');var ac=document.getElementById('autocomplete');if(input&&ac){input.addEventListener('input',function(){var q=input.value;if(!q){ac.innerHTML='';return;}fetch('/api/suggest?q='+encodeURIComponent(q)).then(r=>r.json()).then(d=>{ac.innerHTML='';var ul=document.createElement('ul');d.forEach(function(it){var li=document.createElement('li');li.textContent=it.name+' ('+it.part_code+')';li.addEventListener('click',function(){window.location='/parts/view?id='+it.id;});ul.appendChild(li);});ac.appendChild(ul);});});}});
